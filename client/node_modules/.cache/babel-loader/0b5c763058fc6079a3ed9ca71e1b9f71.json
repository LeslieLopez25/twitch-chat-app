{"ast":null,"code":"import React from 'react';\nimport { DeliveredCheckIcon } from './icons';\nimport { getReadByTooltipText, mapToUserNameOrId } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { LoadingIndicator } from '../Loading';\nimport { Tooltip } from '../Tooltip';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar UnMemoizedMessageStatus = function (props) {\n  var _a;\n\n  var propAvatar = props.Avatar,\n      _b = props.messageType,\n      messageType = _b === void 0 ? 'simple' : _b,\n      _c = props.tooltipUserNameMapper,\n      tooltipUserNameMapper = _c === void 0 ? mapToUserNameOrId : _c;\n  var client = useChatContext('MessageStatus').client;\n  var contextAvatar = useComponentContext('MessageStatus').Avatar;\n\n  var _d = useMessageContext('MessageStatus'),\n      isMyMessage = _d.isMyMessage,\n      lastReceivedId = _d.lastReceivedId,\n      message = _d.message,\n      readBy = _d.readBy,\n      threadList = _d.threadList;\n\n  var t = useTranslationContext('MessageStatus').t;\n  var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n\n  if (!isMyMessage() || message.type === 'error') {\n    return null;\n  }\n\n  var justReadByMe = (readBy === null || readBy === void 0 ? void 0 : readBy.length) === 1 && readBy[0].id === ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id);\n\n  if (message.status === 'sending') {\n    return React.createElement(\"span\", {\n      className: \"str-chat__message-\" + messageType + \"-status\",\n      \"data-testid\": 'message-status-sending'\n    }, React.createElement(Tooltip, null, t('Sending...')), React.createElement(LoadingIndicator, null));\n  }\n\n  if ((readBy === null || readBy === void 0 ? void 0 : readBy.length) && !threadList && !justReadByMe) {\n    var lastReadUser = readBy.filter(function (item) {\n      var _a;\n\n      return item.id !== ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id);\n    })[0];\n    return React.createElement(\"span\", {\n      className: \"str-chat__message-\" + messageType + \"-status\",\n      \"data-testid\": 'message-status-read-by'\n    }, React.createElement(Tooltip, null, getReadByTooltipText(readBy, t, client, tooltipUserNameMapper)), React.createElement(Avatar, {\n      image: lastReadUser.image,\n      name: lastReadUser.name || lastReadUser.id,\n      size: 15,\n      user: lastReadUser\n    }), readBy.length > 2 && React.createElement(\"span\", {\n      className: \"str-chat__message-\" + messageType + \"-status-number\",\n      \"data-testid\": 'message-status-read-by-many'\n    }, readBy.length - 1));\n  }\n\n  if (message.status === 'received' && message.id === lastReceivedId && !threadList) {\n    return React.createElement(\"span\", {\n      className: \"str-chat__message-\" + messageType + \"-status\",\n      \"data-testid\": 'message-status-received'\n    }, React.createElement(Tooltip, null, t('Delivered')), React.createElement(DeliveredCheckIcon, null));\n  }\n\n  return null;\n};\n\nexport var MessageStatus = React.memo(UnMemoizedMessageStatus);","map":{"version":3,"names":["React","DeliveredCheckIcon","getReadByTooltipText","mapToUserNameOrId","Avatar","DefaultAvatar","LoadingIndicator","Tooltip","useChatContext","useComponentContext","useMessageContext","useTranslationContext","UnMemoizedMessageStatus","props","_a","propAvatar","_b","messageType","_c","tooltipUserNameMapper","client","contextAvatar","_d","isMyMessage","lastReceivedId","message","readBy","threadList","t","type","justReadByMe","length","id","user","status","createElement","className","lastReadUser","filter","item","image","name","size","MessageStatus","memo"],"sources":["C:/Users/super/Desktop/twitch-chat-app/node_modules/stream-chat-react/dist/components/Message/MessageStatus.js"],"sourcesContent":["import React from 'react';\nimport { DeliveredCheckIcon } from './icons';\nimport { getReadByTooltipText, mapToUserNameOrId } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { LoadingIndicator } from '../Loading';\nimport { Tooltip } from '../Tooltip';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedMessageStatus = function (props) {\n    var _a;\n    var propAvatar = props.Avatar, _b = props.messageType, messageType = _b === void 0 ? 'simple' : _b, _c = props.tooltipUserNameMapper, tooltipUserNameMapper = _c === void 0 ? mapToUserNameOrId : _c;\n    var client = useChatContext('MessageStatus').client;\n    var contextAvatar = useComponentContext('MessageStatus').Avatar;\n    var _d = useMessageContext('MessageStatus'), isMyMessage = _d.isMyMessage, lastReceivedId = _d.lastReceivedId, message = _d.message, readBy = _d.readBy, threadList = _d.threadList;\n    var t = useTranslationContext('MessageStatus').t;\n    var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n    if (!isMyMessage() || message.type === 'error') {\n        return null;\n    }\n    var justReadByMe = (readBy === null || readBy === void 0 ? void 0 : readBy.length) === 1 && readBy[0].id === ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id);\n    if (message.status === 'sending') {\n        return (React.createElement(\"span\", { className: \"str-chat__message-\" + messageType + \"-status\", \"data-testid\": 'message-status-sending' },\n            React.createElement(Tooltip, null, t('Sending...')),\n            React.createElement(LoadingIndicator, null)));\n    }\n    if ((readBy === null || readBy === void 0 ? void 0 : readBy.length) && !threadList && !justReadByMe) {\n        var lastReadUser = readBy.filter(function (item) { var _a; return item.id !== ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id); })[0];\n        return (React.createElement(\"span\", { className: \"str-chat__message-\" + messageType + \"-status\", \"data-testid\": 'message-status-read-by' },\n            React.createElement(Tooltip, null, getReadByTooltipText(readBy, t, client, tooltipUserNameMapper)),\n            React.createElement(Avatar, { image: lastReadUser.image, name: lastReadUser.name || lastReadUser.id, size: 15, user: lastReadUser }),\n            readBy.length > 2 && (React.createElement(\"span\", { className: \"str-chat__message-\" + messageType + \"-status-number\", \"data-testid\": 'message-status-read-by-many' }, readBy.length - 1))));\n    }\n    if (message.status === 'received' && message.id === lastReceivedId && !threadList) {\n        return (React.createElement(\"span\", { className: \"str-chat__message-\" + messageType + \"-status\", \"data-testid\": 'message-status-received' },\n            React.createElement(Tooltip, null, t('Delivered')),\n            React.createElement(DeliveredCheckIcon, null)));\n    }\n    return null;\n};\nexport var MessageStatus = React.memo(UnMemoizedMessageStatus);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}